<!-- MHonArc v2.6.2 -->
<!--X-Subject: Re: [olug] Perl Mongers Mtg: Bug Hunt: Jay's IP subnet calculator -->
<!--X-From-R13: Xnl Vnaanu <wnlNwnlf.arg> -->
<!--X-Date: Wed, 10 Dec 2003 23:46:40 &#45;0600 -->
<!--X-Message-Id: 7C89797A&#45;2B9D&#45;11D8&#45;946A&#45;000A95E317B8@jays.net -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 1F7C0C8F4BD7C54A8BC55012FEF3DF6D0302E330@omaexc11.americas.cpqcorp.net -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: [olug] Perl Mongers Mtg: Bug Hunt: Jay's IP subnet calculator</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00266.html">Date Prev</a>][<a href="msg00268.html">Date Next</a>][<a href="msg00266.html">Thread Prev</a>][<a href="msg00268.html">Thread Next</a>][<a href="maillist.html#00267">Date Index</a>][<a href="threads.html#00267">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [olug] Perl Mongers Mtg: Bug Hunt: Jay's IP subnet calculator</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: &quot;Miller, Scott L (Omaha Networks)&quot; &lt;<a href="mailto:scott.l.miller@DOMAIN.HIDDEN">scott.l.miller@xxxxxx</a>&gt;</li>
<li><em>Subject</em>: Re: [olug] Perl Mongers Mtg: Bug Hunt: Jay's IP subnet calculator</li>
<li><em>From</em>: Jay Hannah &lt;<a href="mailto:jay@DOMAIN.HIDDEN">jay@xxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Wed, 10 Dec 2003 23:47:20 -0600</li>
<li><em>Cc</em>: &quot;Omaha Linux User Group&quot; &lt;<a href="mailto:olug@DOMAIN.HIDDEN">olug@xxxxxxxx</a>&gt;, &lt;<a href="mailto:omaha-list@DOMAIN.HIDDEN">omaha-list@xxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>In-reply-to</em>: &lt;<a href="msg00266.html">1F7C0C8F4BD7C54A8BC55012FEF3DF6D0302E330@omaexc11.americas.cpqcorp.net</a>&gt;</li>
<li><em>Sender</em>: <a href="mailto:owner-omaha-list@DOMAIN.HIDDEN">owner-omaha-list@xxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<tt><br>On Thursday, December 4, 2003, at 12:56 PM, Miller, Scott L (Omaha 
Networks) wrote:
</tt><blockquote style="border-left: #0000FF solid 0.1em; margin: 0em; padding-left: 1.0em"><tt>It works fine on my box, running 5.6.1.  I'd first question the 
accuracy of the log functions especially with the division thrown in.  
Floating point math likes to return things like 13.99999 or 14.00001.  
If that function returns 13.999999, then the integer would become 13 
instead of 14.  If this is the problem, you might want to add a 
significantly small enough number before taking the int to take care 
of the problem. (like 0.001 or so, figuring out what is significantly 
small enough left as an excersize to the reader).
</tt></blockquote><tt><br>Ya. On line 88 I changed</tt><br>
<br>
<tt>   my $exp = int(log_base2($r));</tt><br>
<br>
<tt>to</tt><br>
<br>
<tt>   my $exp = sprintf(&quot;%.0f&quot;, log_base2($r));</tt><br>
<br>
<tt>and the problem went away.</tt><br>
<br>
<tt>What killed me in the debug was this:</tt><br>
<br>
<tt>   perl -le 'my $j = (log 16384) / (log 2); print &quot;$j &quot; . int($j)'</tt><br>
<br>
<tt>On my system that prints &quot;14 13&quot;. Everyone else gets &quot;14 14&quot;.</tt><br>
<br>
<tt>I spent an hour on EFNet #perl learning that print rounds scalars. I 
didn't know that. I thought if you calculated 13.9999999999 in a scalar 
a print statement would always print 13.999999999999. It doesn't 
(always). On my system it prints &quot;14&quot;.... I've got a huge EFNet log of 
discussion if anybody wants it.</tt><br>
<br>
<tt>Should be an interesting meeting Tuesday!</tt><br>
<br>
<tt>Cheers,</tt><br>
<br>
<tt>j</tt><br>
<br>
<br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00268" href="msg00268.html">Re: [olug] Perl Mongers Mtg: Bug Hunt: Jay's IP subnet calculator</a></strong>
<ul><li><em>From:</em> Jeff Bisbee</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00266" href="msg00266.html">RE: [olug] Perl Mongers Mtg: Bug Hunt: Jay's IP subnet calculator</a></strong>
<ul><li><em>From:</em> Miller, Scott L (Omaha Networks)</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00266.html">RE: [olug] Perl Mongers Mtg: Bug Hunt: Jay's IP subnet calculator</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00268.html">Re: [olug] Perl Mongers Mtg: Bug Hunt: Jay's IP subnet calculator</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00266.html">RE: [olug] Perl Mongers Mtg: Bug Hunt: Jay's IP subnet calculator</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00268.html">Re: [olug] Perl Mongers Mtg: Bug Hunt: Jay's IP subnet calculator</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00267"><strong>Date</strong></a></li>
<li><a href="threads.html#00267"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
